<div class="modal fade" id="selectProduct" data-ng-init="initProductData();" data-ng-controller="selectProductCtrl" style="z-index:999999" tabindex="-1" role="dialog" aria-hidden="true">
	<div class="modal-dialog modal-full">
		<div class="modal-content">
			<div class="modal-body">
				<div class="row">

                    <div class="col-md-2">
                        <!-- BEGIN Portlet PORTLET-->
                        <div class="portlet light">
                            <div class="portlet-title">
                                <div class="caption">
                                    <i class="icon-speech"></i>
                                    <span class="caption-subject bold uppercase"> 搜索 / 建議貨品</span>
                                </div>
                            </div>
                            <div class="portlet-body">
                                <form class="form-horizontal" role="form">
                                    <div class="form-body">
                                        <div class="">
                                            <div class="form-group ">
                                                <div class="col-md-12 alert alert-success alert-borderless">
                                                    <div class="input-icon right">
                                                        <i class="icon-exclamation-sign"></i>
                                                        <input autofocus="autofocus" autocomplete="off" name="productSearchField" id="productSearchField" ng-model="keyword" type="text" placeholder="產品編號或產品名稱 " class="form-control" ng-change="searchProductByField(keyword)"/>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                                <div class="scroller" data-rail-visible="1" data-rail-color="yellow" data-handle-color="#a1b2bd">
                                    <ul data-ng-if="productDisplay == 'list'" class="nav nav-pills nav-stacked" style="max-width: 350px;;">
                                        <li class="" ng-repeat="sr in productSearchResult">
                                            <a href="#" ng-click="selectProductToMain(sr.productId);" id="suggestion_row_{{$index}}" style="font-size:14px;color:#3C688C;">{{sr.productName_chi}} </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!-- END Portlet PORTLET-->
                    </div>


					<div class="col-md-2">
						<!-- BEGIN Portlet PORTLET-->
						<div class="portlet light">
							<div class="portlet-title">
								<div class="caption">
									<i class="icon-speech"></i> 
									<span class="caption-subject bold uppercase"> 貨品部門</span>
								</div>
							</div>
							<div class="portlet-body">
								<div class="scroller" style="height:" data-rail-visible="1" data-rail-color="yellow" data-handle-color="#a1b2bd">
									<ul class="nav nav-pills nav-stacked" style="max-width: 350px;">
										<li class="selection_department" ng-repeat="d in productGroups" id="departmentli_{{$index}}">
											<a href="#" ng-click="showGroup(d.0.rowidentifier);" id="department_{{$index}}" style="font-size:16px;color:#3C688C;">{{d.0.productDepartmentName}} </a>
										</li>
									</ul>
								</div>
							</div>
						</div>
						<!-- END Portlet PORTLET-->
					</div>
					<div class="col-md-2">
						<!-- BEGIN Portlet PORTLET-->
						<div class="portlet light">
							<div class="portlet-title">
								<div class="caption">
									<i class="icon-speech"></i>
									<span class="caption-subject bold uppercase"> 貨品類別</span>
								</div>
							</div>
							<div class="portlet-body">
								<div class="scroller" style="height:" data-rail-visible="1" data-rail-color="yellow" data-handle-color="#a1b2bd">
									
									<ul class="nav nav-pills nav-stacked selection_group" style="max-width: 350px;display:none;" ng-repeat="d in productGroups" id="group_{{d.0.rowidentifier}}">
										<li class="selection_department" ng-repeat="g in d" id="groupli_{{g.productDeparmentId}}{{g.productGroupId}}">
											<a href="#" ng-click="showProduct(g.productDepartmentId, g.productGroupId);"  id="group_{{$index}}" style="font-size:16px;color:#3C688C;">{{g.productGroupName}} </a>
										</li>
									</ul>
									
								</div>
							</div>
						</div>
						<!-- END Portlet PORTLET-->
					</div>
					
					<div class="col-md-6">
						<!-- BEGIN Portlet PORTLET-->
						<div class="portlet light">
							<div class="portlet-title">
								<div class="caption">
									<i class="icon-speech"></i>
									<span class="caption-subject bold uppercase"> 貨品</span>
								</div>
								<div class="actions">
									<div class="btn-group btn-group-devided" data-toggle="buttons" >
										<a href="#" class="btn btn-sm blue" ng-click="switchDisplayMethod('list');"><i class="fa fa-list" ></i> 文字列表 </a>
										<a href="#" class="btn btn-sm blue" ng-click="switchDisplayMethod('grid');"><i class="fa fa-file-image-o"></i> 圖片顯示 </a>
									</div>
								</div>
							</div>
							<div class="portlet-body">
								<div class="scroller" style="height:" data-rail-visible="1" data-rail-color="yellow" data-handle-color="#a1b2bd"> 
									
									<div class="row" style="margin-left:2px;" data-ng-if="productDisplay == 'grid'">
										<div class="col-sm-12 col-md-3" style="height:305px;" ng-repeat="p in productsInGroup" style="cursor: pointer;" ng-click="selectProductToMain(p.productId);">
											<div class="thumbnail">
												<img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMzMiIGhlaWdodD0iMjAwIj48cmVjdCB3aWR0aD0iMjMzIiBoZWlnaHQ9IjIwMCIgZmlsbD0iI2VlZSIvPjx0ZXh0IHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjExNi41IiB5PSIxMDAiIHN0eWxlPSJmaWxsOiNhYWE7Zm9udC13ZWlnaHQ6Ym9sZDtmb250LXNpemU6MTVweDtmb250LWZhbWlseTpBcmlhbCxIZWx2ZXRpY2Esc2Fucy1zZXJpZjtkb21pbmFudC1iYXNlbGluZTpjZW50cmFsIj4yMzN4MjAwPC90ZXh0Pjwvc3ZnPg==" alt="100%x200" style="width: 100%; height: 200px; display: block;" data-src="holder.js/100%x200">
												<div class="caption">
													<h3>{{p.productName_chi}}</h3>
													
												</div>
											</div>
										</div>
									</div>
									<div class="col-md-6">
										<ul data-ng-if="productDisplay == 'list'" class="nav nav-pills nav-stacked" style="max-width: 350px;;">
											<li class="" ng-repeat="p in productsInGroupUpper">
												<a href="#" ng-click="selectProductToMain(p.productId);"  id="prod1_{{($index+1)*2-1}}" style="font-size:16px;color:#3C688C;">{{p.productName_chi}} </a>
											</li>
										</ul>
									</div>
									<div class="col-md-6">
										<ul data-ng-if="productDisplay == 'list'" class="nav nav-pills nav-stacked" style="max-width: 350px;;">
											<li class="" ng-repeat="p in productsInGroupLower">
												<a href="#" ng-click="selectProductToMain(p.productId);" id="prod2_{{$index*2}}"  style="font-size:16px;color:#3C688C;">{{p.productName_chi}} </a>
											</li>
										</ul>
									</div>
								</div>
							</div>
						</div>
						<!-- END Portlet PORTLET-->
					</div>
					

				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn default" data-dismiss="modal">取消</button>
			</div>
		</div>
		<!-- /.modal-content -->
	</div>
	<!-- /.modal-dialog -->
</div> 

